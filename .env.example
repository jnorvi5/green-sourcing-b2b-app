# Supabase
VITE_SUPABASE_URL=your-supabase-url
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# Backend server
PORT=3001

# PostgreSQL connection
# For local development (non-Docker): use localhost
# For Docker Compose: use db as host
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Database credentials (update these!)
DB_USER=user
DB_PASSWORD=password
DB_NAME=greenchainz_dev

# Legacy variable names (for backward compatibility)
POSTGRES_USER=${DB_USER}
POSTGRES_PASSWORD=${DB_PASSWORD}
POSTGRES_DB=${DB_NAME}

# PostgreSQL Connection Pool Configuration (Performance Tuning)
# These settings optimize database connection handling for better performance
# Adjust based on your deployment size and expected concurrent users

# Maximum number of clients in the pool (default: 20)
# Small deployment (< 100 users): 20
# Medium deployment (100-500 users): 50
# Large deployment (> 500 users): 100
PGPOOL_MAX=20

# Minimum number of idle connections to maintain (default: 2)
# Keeping a minimum ensures faster response times for subsequent requests
PGPOOL_MIN=2

# Milliseconds a client must sit idle before being released (default: 30000)
# Lower values free up connections faster but may cause more reconnection overhead
PGPOOL_IDLE=30000

# Milliseconds to wait for a connection to become available (default: 5000)
# Increase if you see connection timeout errors under high load
PGPOOL_CONNECTION_TIMEOUT=5000

# Milliseconds to wait for a query to complete (default: 30000)
# Prevents runaway queries from blocking the pool
# Set to 0 to disable (not recommended in production)
PGPOOL_STATEMENT_TIMEOUT=30000

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
NOTIFICATIONS_ENABLED=false

# Default sender
FROM_EMAIL=no-reply@greenchainz.local

# Session Secret (for OAuth with Passport.js)
SESSION_SECRET=your-session-secret-change-in-production-min-32-chars

# ============================================
# Email Configuration (Phase 1 MVP - FREE)
# ============================================
# NO TWILIO OR ZOHO NEEDED YET!
# Use free Gmail SMTP for transactional emails
# Setup: https://support.google.com/accounts/answer/185833 (App Passwords)

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password-here

# Admin notifications (get alerts for new leads)
ADMIN_EMAIL=your-admin-email@gmail.com

# Alternative SMTP Providers (if not using Gmail):
# - Outlook: smtp-mail.outlook.com:587
# - SendGrid: smtp.sendgrid.net:587 (100 emails/day free)
# - Mailgun: smtp.mailgun.org:587 (first 5000/month free)

# ============================================
# OAuth 2.0 Social Login Providers
# ============================================

# Google OAuth 2.0
# Setup: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID
# 2. Add authorized redirect URI: http://localhost:3001/auth/google/callback
# 3. Enable Google+ API
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3001/auth/google/callback

# GitHub OAuth
# Setup: https://github.com/settings/developers
# 1. Register a new OAuth application
# 2. Set callback URL: http://localhost:3001/auth/github/callback
# 3. Request user:email scope
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3001/auth/github/callback

# LinkedIn OAuth 2.0
# Setup: https://www.linkedin.com/developers/apps
# 1. Create new app
# 2. Add "Sign In with LinkedIn" product
# 3. Add redirect URL: http://localhost:3001/auth/linkedin/callback
# 4. Request openid, profile, and email scopes
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_CALLBACK_URL=http://localhost:3001/auth/linkedin/callback

# Microsoft OAuth 2.0
# Setup: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade
# 1. Register new application
# 2. Add redirect URI: http://localhost:3001/auth/microsoft/callback
# 3. Generate client secret in Certificates & secrets
# 4. API permissions: User.Read
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_CALLBACK_URL=http://localhost:3001/auth/microsoft/callback

# ============================================
# Survey Form URLs
# ============================================
# Google Forms or other survey platform URLs
SUPPLIER_FORM_URL=https://docs.google.com/forms/d/e/YOUR_SUPPLIER_FORM_ID/viewform
BUYER_FORM_URL=https://docs.google.com/forms/d/e/YOUR_BUYER_FORM_ID/viewform
DATA_PROVIDER_FORM_URL=https://docs.google.com/forms/d/e/YOUR_DATA_PROVIDER_FORM_ID/viewform

# Frontend URL (for OAuth redirects after successful authentication)
FRONTEND_URL=http://localhost:5173

# ============================================
# Optional: Email Configuration (SMTP)
# ============================================
# For sending transactional emails (future feature)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# ============================================
# Optional: Data Provider API Keys (Phase 1)
# ============================================
# For sustainability data integration
# EC3_API_KEY=your-ec3-api-key
# FSC_API_KEY=your-fsc-api-key
# BCORP_API_KEY=your-bcorp-api-key

# ============================================
# Supabase Configuration
# ============================================
VITE_SUPABASE_URL=your-supabase-url
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# ============================================
# AZURE INTEGRATION CONFIGURATION
# ============================================

# Azure Environment Detection
AZURE_ENVIRONMENT=false  # Set to true when running in Azure

# Azure Subscription & Tenant
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_TENANT_ID=your-tenant-id

# Azure Resource Groups
AZURE_RG_CORE=greenchainz-core-start
AZURE_RG_PRODUCTION=greenchainz-production
AZURE_RG_SCRAPER=greenchainzscraper
AZURE_RG_CONTAINER=rg-greenchainz-prod-container
AZURE_RG_AI=greenchainz-ai
AZURE_RG_MAIN=rg-greenchainz

# ============================================
# Azure Redis Cache (greenchainz - East US 2)
# ============================================
AZURE_REDIS_ENABLED=true
AZURE_REDIS_HOST=greenchainz.redis.cache.windows.net
AZURE_REDIS_PORT=6380
AZURE_REDIS_KEY=your-redis-primary-key-here
AZURE_REDIS_TLS=true
AZURE_REDIS_DB=0
AZURE_REDIS_PREFIX=greenchainz:

# ============================================
# Azure Key Vault (greenchianz-vault)
# ============================================
AZURE_KEYVAULT_ENABLED=true
AZURE_KEYVAULT_NAME=greenchianz-vault
AZURE_KEYVAULT_URL=https://greenchianz-vault.vault.azure.net/

# ============================================
# Azure Storage Accounts
# ============================================
# Main Storage (greenchainzscraper)
AZURE_STORAGE_ACCOUNT_NAME=greenchainzscraper
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=greenchainzscraper;AccountKey=YOUR_KEY;EndpointSuffix=core.windows.net

# Revit Files Storage
AZURE_STORAGE_REVIT_ACCOUNT=revitfiles
AZURE_STORAGE_REVIT_CONNECTION=DefaultEndpointsProtocol=https;AccountName=revitfiles;AccountKey=YOUR_KEY;EndpointSuffix=core.windows.net

# Logic App Storage
AZURE_STORAGE_LOGICAPP_CONNECTION=DefaultEndpointsProtocol=https;AccountName=logicapp342954358599;AccountKey=YOUR_KEY;EndpointSuffix=core.windows.net

# ============================================
# Azure Application Insights
# ============================================
AZURE_APPINSIGHTS_ENABLED=true
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/
APPINSIGHTS_INSTRUMENTATION_KEY=your-instrumentation-key

# ============================================
# Azure Document Intelligence (greenchainz-content-intel)
# ============================================
AZURE_DOC_INTEL_ENABLED=true
AZURE_DOC_INTEL_ENDPOINT=https://greenchainz-content-intel.cognitiveservices.azure.com/
AZURE_DOC_INTEL_KEY=your-document-intelligence-key

# ============================================
# Azure Container Registry
# ============================================
AZURE_REGISTRY_NAME=acrgreenchainzprod916
AZURE_REGISTRY_SERVER=acrgreenchainzprod916.azurecr.io
AZURE_REGISTRY_USERNAME=acrgreenchainzprod916
AZURE_REGISTRY_PASSWORD=your-acr-password

# ============================================
# Azure Container Apps
# ============================================
AZURE_CONTAINER_ENV=cae-greenchainz-env
AZURE_CONTAINER_APP=greenchainz-container

# ============================================
# Azure Functions
# ============================================
AZURE_FUNCTION_SCRAPER=greenchainz-scraper
AZURE_FUNCTION_SCRAPER_KEY=your-function-host-key

# ============================================
# Azure API Management
# ============================================
AZURE_APIM_ENABLED=true
AZURE_APIM_NAME=greenchainz-scraper-apim
AZURE_APIM_KEY=your-apim-subscription-key
AZURE_APIM_ENDPOINT=https://greenchainz-scraper-apim.azure-api.net

# ============================================
# Azure Regions
# ============================================
AZURE_PRIMARY_REGION=eastus
AZURE_SECONDARY_REGION=eastus2
