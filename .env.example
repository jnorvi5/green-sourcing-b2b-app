# ============================================
# GREENCHAINZ B2B PLATFORM - ENVIRONMENT VARIABLES
# ============================================
#
# ⚠️  SECURITY: Never commit actual secrets! Use .env.local for development.
# 
# Variable Classification:
#   [SECRET] - Sensitive credentials (JWT keys, API keys, passwords)
#   [SERVER] - Server-side only (database URLs, internal endpoints)
#   [PUBLIC] - Safe for client-side (prefixed with NEXT_PUBLIC_)
#
# ============================================

# ============================================
# Core Application Settings
# ============================================
NODE_ENV=development
PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:3000

# ============================================
# Authentication & Security [SECRET]
# ============================================
# JWT token for API authentication
JWT_SECRET=your-secret-key-here-min-32-chars

# NextAuth configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-here

# Session cookie settings
SESSION_SECRET=your-session-secret-here
COOKIE_SECRET=your-cookie-secret-here

# ============================================
# Database Configuration [SECRET + SERVER]
# ============================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/greenchainz_dev

# Azure PostgreSQL (Production)
AZURE_SQL_SERVER=greenchainz-db-prod.postgres.database.azure.com
AZURE_SQL_DATABASE=greenchainz_prod
AZURE_SQL_USER=greenchainz_admin
AZURE_SQL_PASSWORD=your-database-password

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=30000

# ============================================
# Azure Authentication [SECRET]
# ============================================
# Azure AD B2C configuration
AZURE_AD_CLIENT_ID=479e2a01-70ab-4df9-baa4-560d317c3423
AZURE_AD_CLIENT_SECRET=your-azure-client-secret
AZURE_AD_TENANT_ID=ca4f78d4-c753-4893-9cd8-1b309922b4dc
AZURE_AD_AUTHORITY=https://login.microsoftonline.com/ca4f78d4-c753-4893-9cd8-1b309922b4dc

# ============================================
# Azure AI Foundry (Agent Orchestration) [SECRET]
# ============================================
# Azure AI Foundry endpoint for workflow orchestration
AZURE_FOUNDRY_API_URL=https://greenchainz-foundry.azureml.ms/api/v1
AZURE_FOUNDRY_API_KEY=your_foundry_api_key_here
AZURE_FOUNDRY_RESOURCE_GROUP=greenchainz-rg

# Timeout for Foundry API calls (milliseconds, default: 30000)
AZURE_FOUNDRY_TIMEOUT_MS=30000

# ============================================
# Azure Document Intelligence [SECRET]
# ============================================
# Document Intelligence for EPD/certification extraction
AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT=https://greenchainz-doc-intel.cognitiveservices.azure.com/
AZURE_DOCUMENT_INTELLIGENCE_KEY=your_document_intelligence_key_here

# ============================================
# Azure Storage [SECRET + SERVER]
# ============================================
# Blob storage for documents, images, EPDs
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=greenchainzstorage;AccountKey=xxx;EndpointSuffix=core.windows.net
AZURE_STORAGE_ACCOUNT_NAME=greenchainzstorage
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key

# ============================================
# Azure OpenAI [SECRET]
# ============================================
# Azure OpenAI for AI-powered features
AZURE_OPENAI_API_KEY=your-openai-key
AZURE_OPENAI_ENDPOINT=https://greenchainz-openai.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# ============================================
# Logic Apps (for OUTREACH-SCALER) [SECRET]
# ============================================
# Logic App webhooks for automated workflows
LOGIC_APP_SCRAPER_WEBHOOK=https://prod-XX.azurelogicapps.com:443/workflows/xxx
LOGIC_APP_EMAIL_WEBHOOK=https://prod-XX.azurelogicapps.com:443/workflows/xxx

# ============================================
# Application URLs [SERVER + PUBLIC]
# ============================================
# Base URL for the application (used by workflows to call back)
APP_BASE_URL=http://localhost:3000

# Frontend URL (CORS, redirects)
FRONTEND_URL=http://localhost:3000

# Backend API URL (if separate from frontend)
BACKEND_URL=http://localhost:3001

# Public API base (accessible from browser)
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api

# ============================================
# Email Service [SECRET]
# ============================================
# Resend API for transactional emails
RESEND_API_KEY=your-resend-api-key

# Zoho Mail SMTP (alternative)
SMTP_HOST=smtp.zoho.com
SMTP_PORT=465
SMTP_USER=noreply@greenchainz.com
SMTP_PASSWORD=your-smtp-password

# ============================================
# Payment Processing [SECRET]
# ============================================
# Stripe for subscription management
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# ============================================
# Monitoring & Analytics [SECRET + SERVER]
# ============================================
# Azure Application Insights
AZURE_APP_INSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=xxx
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx

# Sentry error tracking
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# ============================================
# Audit Logging [SERVER]
# ============================================
# Database table for agent execution audit trail
AUDIT_LOG_TABLE=agent_audit_trail
AUDIT_LOG_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=greenchainstorage;...

# ============================================
# Redis Cache (Optional) [SECRET]
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password

# ============================================
# Development Tools
# ============================================
# Enable debug logging in development
DEBUG=true
LOG_LEVEL=debug

# Skip SSL verification in local development (DO NOT use in production)
NODE_TLS_REJECT_UNAUTHORIZED=0
